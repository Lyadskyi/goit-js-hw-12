{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/img/x-octagon.svg","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import { galleryImages, loadBtnEl } from '../main';\n\nexport function createMarkup(data) {\n  let markupImages = data.hits\n    .map(({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => {\n      return `<li class=\"gallery-image\">\n  <div class=\"wrapper-image\">\n    <a href=\"${largeImageURL}\"\n      ><img\n        class=\"image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\"\n        width=\"360\"\n        height=\"200\"\n    /></a>\n  </div>\n  <div class=\"wrapper-description\">\n    <ul class=\"list-image\">\n      <li class=\"list-image-item\">\n        <h3 class=\"list-image-heading\">Likes</h3>\n        <p class=\"list-image-desc\">${likes}</p>\n      </li>\n      <li class=\"list-image-item\">\n        <h3 class=\"list-image-heading\">Views</h3>\n        <p class=\"list-image-desc\">${views}</p>\n      </li>\n      <li class=\"list-image-item\">\n        <h3 class=\"list-image-heading\">Comments</h3>\n        <p class=\"list-image-desc\">${comments}</p>\n      </li>\n      <li class=\"list-image-item\">\n        <h3 class=\"list-image-heading\">Downloads</h3>\n        <p class=\"list-image-desc\">${downloads}</p>\n      </li>\n    </ul>\n  </div>\n</li>`;\n    }).join(\"\");\n  loadBtnEl.classList.remove('is-hidden');\n\n      return galleryImages.insertAdjacentHTML('beforeend', markupImages); \n};\n","export default \"__VITE_ASSET__655c9695__\"","import iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport axios from 'axios';\n\nimport { inputEl, galleryImages, loaderEl, loadBtnEl, request, page } from '../main';\n\nimport { createMarkup } from \"../js/render-functions\";\n\nimport octagon from \"../img/x-octagon.svg\"\n\nconst pick = {\n  captionsData: 'alt',\n  captionDelay: 250\n};\n\nconst lightbox = new SimpleLightbox('.gallery-image a', pick);\nlet allPages = 0;\n\nexport async function requestToServer(link) {\n  await axios\n    .get(link)\n    .then(({ data }) => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          titleColor: '#fff',\n          titleSize: '16px',\n          titleLineHeight: '1.5',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          messageLineHeight: '1.5',\n          backgroundColor: '#ef4040',\n          theme: 'dark',\n          iconUrl: octagon,\n          iconColor: '#fafafb',\n          closeOnEscape: true,\n          maxWidth: '432px',\n          position: 'topRight',\n        });\n        galleryImages.innerHTML = '';\n        return;\n      };\n\n    allPages = Math.ceil(data.totalHits / request.per_page);\n\n      if (page === allPages) {\n        iziToast.info({\n          message: 'Sorry, there are no images',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          backgroundColor: '#2e2f42',\n          theme: 'dark',\n          closeOnEscape: true,\n          maxWidth: '432',\n          position: 'topRight',\n        });\n\n    loadBtnEl.classList.add('is-hidden');\n        return;\n      };\n\n    createMarkup(data);\n\n  const scrollHeight = galleryImages.getBoundingClientRect().height;\n\n    window.scrollBy({\n    top: scrollHeight,\n    behavior: 'smooth',\n    });\n\n        return lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loaderEl.classList.add('is-hidden');\n      inputEl.value = '';\n    });\n};\n","import { requestToServer } from \"./js/pixabay-api\";\n\nexport const inputEl = document.querySelector('input[name=message]');\nexport const galleryImages = document.querySelector('.gallery-images');\nexport const loaderEl = document.querySelector('.loader');\nexport const loadBtnEl = document.querySelector('.load-btn');\nconst formEl = document.querySelector('.form');\nconst KEY = '42641678-dfe8c371983b31bc21d252361';\n\nexport const request = new URLSearchParams ({\n  per_page: 15,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nexport let page;\nlet inputValue;\nlet currentUrl;\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n  galleryImages.innerHTML = null;\n  loaderEl.classList.remove('is-hidden');\n  loadBtnEl.classList.add('is-hidden');\n  inputValue = inputEl.value;\n  page = 1;\n  currentUrl = `https://pixabay.com/api/?key=${KEY}&q=${inputEl.value}&${request}&page=${page}`;\n  requestToServer(currentUrl);\n});\n\nloadBtnEl.addEventListener('click', () => {\n  page += 1;\n  currentUrl = `https://pixabay.com/api/?key=${KEY}&q=${inputValue}&${request}&page=${page}`;\n  requestToServer(currentUrl);\n});\n"],"names":["createMarkup","data","markupImages","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loadBtnEl","galleryImages","octagon","pick","lightbox","SimpleLightbox","allPages","requestToServer","link","axios","iziToast","request","page","scrollHeight","error","loaderEl","inputEl","formEl","KEY","inputValue","currentUrl","event"],"mappings":"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"}